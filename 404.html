<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Page Not Found</title>
  <script>
    (function () {
      var storageKey = "__SPA_REDIRECT_PATH__";
      var basePath = "__BASE_PATH__";
      var normalizedBase =
        !basePath || basePath === "/" ? "" : basePath.replace(/\/$/, "");
      var path = window.location.pathname;
      var search = window.location.search || "";
      var hash = window.location.hash || "";

      try {
        sessionStorage.setItem(storageKey, path + search + hash);
      } catch (error) {
        console.warn("Unable to persist redirect path", error);
      }

      var target = normalizedBase || "/";
      if (target !== "/" && !target.endsWith("/")) {
        target += "/";
      }

      window.location.replace(target);
    })();
  </script>
</head>
<body>
  <!-- リダイレクトが機能しない場合のフォールバック -->
  <p>Redirecting...</p>
  <a href="__HOME_HREF__">Go to Home</a>
</body>
</html>
